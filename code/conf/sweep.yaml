program: ${hydra:runtime.cwd}/../main.py           # the script to run
# program: main.py           # the script to run
method: bayes             # or grid, random, etc.

metric:
  name: val_average_precision    # e.g. one of your metrics
  goal: maximize

# Here, `parameters` maps directly to Hydra override paths:
parameters:
  # change batch‑size
  hparams.train.batch_size:
    values: [32, 64, 128]
  # adjust learning rate
  hparams.train.learning_rate:
    distribution: log_uniform_values
    min: 1e-5
    max: 1e-2
  # try both losses
  loss.contrastive.name:
    values: ["infonce","gwnce"]
  # tweak the cut_rate used by gwnce
  gwnce.cut_rate:
    distribution: uniform
    min: 0.0
    max: 0.5
  # change model type
  model.name:
    values: ["GCN","GAT","GIN"]
  model.decoder.type:
    values: ["dot","mlp","attention"] 
  # ...etc
  

# you can also early‑terminate bad runs:
early_terminate:
  type: hyperband
  min_iter: 1
  max_iter: 20


# use the default `mode=train` flag so main.py does no k‑fold & picks up only one run:

command:
  - ${env}
  - python
  - ${program}
  - num_threads=1
