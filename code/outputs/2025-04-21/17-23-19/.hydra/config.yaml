hparams:
  train:
    batch_size: 32
    num_epochs: 5
    learning_rate: 0.001
    weight_decay: 0.0001
    kfolds: 2
  val:
    batch_size: 64
  test:
    batch_size: 64
  model:
    edge_cutoff: 10.0
    interaction_cutoff: 8.0
model:
  name: GIN
  use_residual: true
  dropout: 0.5
  encoder:
    antibody:
      input_dim: 40
      hidden_dims:
      - 32
      - 32
      output_dim: 32
    antigen:
      input_dim: 40
      hidden_dims:
      - 32
      - 32
      output_dim: 32
  decoder:
    interaction_dim: 32
    threshold: 0.1
loss:
  edge_prediction:
    name: binary_cross_entropy
    weight: 0.1
  node_prediction:
    name: binary_cross_entropy
    weight: 1.0
    pos_weight: 8
  contrastive:
    name: gwnce
    temperature: 0.7
    intra_weight: 0.1
    inter_weight: 0.1
  gwnce:
    cut_rate: 0.1
    cut_way: 2
    weight: 0.1
wandb:
  project: m3epi
  name: null
  entity: alibilab-gsu
  api_key: ${oc.env:WANDB_API_KEY}
  save_dir: ${hydra:runtime.cwd}/../../../results/hgraphepi/m3epi/wandb
  mode: online
callbacks:
  early_stopping:
    patience: 10
    min_delta: 0.0
    mode: min
  model_checkpoint:
    dirpath: ${hydra:runtime.cwd}/../../../results/hgraphepi/m3epi/checkpoints
    filename: model-{epoch:02d}-{val_loss:.2f}
    mode: min
    save_top_k: 3
mode: dev
data_dir: ${hydra:runtime.cwd}/../../../data/asep/m3epi
results_dir: ${hydra:runtime.cwd}/../../../results/hgraphepi/m3epi
try_gpu: true
logging_method: wandb
keep_interim_ckpts: true
num_threads: 4
seed: 42
visualize:
  checkpoint: ${hydra:runtime.cwd}/../../../results/hgraphepi/m3epi/checkpoints/model-11-3.51.pt
  batch_size: 32
  out_dir: ${hydra:runtime.cwd}/../../../results/hgraphepi/m3epi/figures
